# å‰ç«¯æ˜¾ç¤ºé—®é¢˜è§£å†³æ–¹æ¡ˆ

## ğŸ¯ é—®é¢˜æ ¹æœ¬åŸå› 

**APIå“åº”æ ¼å¼ç†è§£é”™è¯¯**ï¼šå‰ç«¯ä»£ç é”™è¯¯åœ°å‡è®¾ä½¿ç”¨axioså“åº”æ ¼å¼ï¼Œä½†å®é™…ä½¿ç”¨çš„æ˜¯fetch APIã€‚

### é”™è¯¯çš„ä»£ç 
```javascript
// é”™è¯¯ï¼šå‡è®¾axiosæ ¼å¼ {status: 200, data: {...}}
if (response && response.status === 200 && response.data) {
  const boardData = response.data;
}
```

### æ­£ç¡®çš„ä»£ç   
```javascript
// æ­£ç¡®ï¼šfetch APIç›´æ¥è¿”å›JSONæ•°æ®
if (response && typeof response === 'object') {
  const boardData = response;
}
```

## ğŸ” è¯¦ç»†åˆ†æ

### 1. APIå®¢æˆ·ç«¯å®ç°
- **æ–‡ä»¶**: `frontend/src/api.js`
- **ä½¿ç”¨æŠ€æœ¯**: fetch APIï¼ˆä¸æ˜¯axiosï¼‰
- **è¿”å›æ ¼å¼**: ç›´æ¥è¿”å›JSONæ•°æ®

### 2. é”™è¯¯è§¦å‘ä½ç½®
- **æ–‡ä»¶**: `frontend/src/App.js` 
- **å‡½æ•°**: `loadCustomWindows` (line 4230)
- **é—®é¢˜**: æ¡ä»¶åˆ¤æ–­ `response.status === 200 && response.data` å§‹ç»ˆä¸ºfalse

### 3. å®é™…æ•°æ®éªŒè¯
**åç«¯APIå“åº”**ï¼ˆæ­£å¸¸ï¼‰:
```json
{
  "board_id": "board-1749280868775-757",
  "windows": [
    {
      "id": "window_1749280872918",
      "title": "æµ‹è¯•çª—å£1",
      "content": "è¿™æ˜¯çª—å£1çš„æµ‹è¯•å†…å®¹...",
      "type": "text",
      "position": {"x": 100, "y": 100},
      "size": {"width": 300, "height": 200}
    }
    // ... 6ä¸ªå…¶ä»–çª—å£
  ]
}
```

**å‰ç«¯fetchå“åº”**:
- âœ… api.get()æˆåŠŸè·å–æ•°æ®
- âŒ æ¡ä»¶åˆ¤æ–­é”™è¯¯ï¼Œè®¤ä¸ºå“åº”æ— æ•ˆ
- âŒ å¯¼è‡´çª—å£çŠ¶æ€ä¸ºç©ºæ•°ç»„

## ğŸ› ï¸ ä¿®å¤æªæ–½

### ä¿®å¤å‰ç«¯APIå“åº”å¤„ç†
**ä½ç½®**: `frontend/src/App.js:4230-4234`

**ä¿®æ”¹å‰**:
```javascript
if (response && response.status === 200 && response.data) {
  const boardData = response.data;
  const windows = boardData.windows || [];
}
```

**ä¿®æ”¹å**:
```javascript
if (response && typeof response === 'object') {
  const boardData = response;
  const windows = boardData.windows || [];
}
```

## âœ… ä¿®å¤éªŒè¯

ä¿®å¤åï¼Œå‰ç«¯åº”è¯¥èƒ½å¤Ÿï¼š

1. âœ… æ­£ç¡®è§£æAPIå“åº”
2. âœ… æå–7ä¸ªçª—å£æ•°æ®
3. âœ… è®¾ç½®çª—å£å¯è§æ€§çŠ¶æ€
4. âœ… åœ¨å±•æ¿ä¸Šæ¸²æŸ“ç»¿è‰²æ ‡é¢˜æ çš„æ–‡æœ¬æ¡†
5. âœ… æ˜¾ç¤ºçª—å£å†…å®¹ï¼ˆä¸­è‹±æ–‡æ··åˆæ–‡æœ¬ï¼‰

## ğŸ‰ æœ€ç»ˆç»“æœ

ç”¨æˆ·åº”è¯¥åœ¨å‰ç«¯çœ‹åˆ°ï¼š
- 7ä¸ªå¯æ‹–æ‹½çš„ç»¿è‰²æ ‡é¢˜æ çª—å£
- çª—å£æ ‡é¢˜ï¼šæµ‹è¯•çª—å£1ã€æµ‹è¯•çª—å£2ã€æµ‹è¯•çª—å£3ã€è°ƒè¯•çª—å£1ã€æµ‹è¯•çª—å£1ã€æµ‹è¯•çª—å£2ã€æµ‹è¯•çª—å£3
- æ¯ä¸ªçª—å£åŒ…å«å®Œæ•´çš„ä¸­è‹±æ–‡æ··åˆå†…å®¹
- çª—å£å¯ä»¥è‡ªç”±æ‹–æ‹½ã€è°ƒæ•´å¤§å°ã€ç¼–è¾‘å†…å®¹ 