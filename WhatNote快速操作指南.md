# WhatNote 快速操作指南

## 🚀 30秒快速上手

### 1. 启动应用
```bash
# 双击启动脚本
启动WhatNote.bat

# 或手动启动
python main.py
```

### 2. 打开界面
浏览器访问：`http://127.0.0.1:8000/frontend_debug.html`

## 📋 核心功能快速操作

### 📁 创建课程和上传PDF

#### 步骤1：创建课程
```
左侧边栏 → [+ 新建课程] → 输入"高等数学" → 确认
```

#### 步骤2：上传PDF
```
选择课程文件夹 → [📤 上传PDF] → 选择文件 → 等待处理完成
```

#### 步骤3：打开PDF
```
双击PDF文件 → PDF在展板中打开为窗口
```

### 🤖 AI注释功能

#### 自动注释（文本内容）
```
PDF窗口 → 浏览到目标页面 → [生成AI注释] → 等待生成
```

#### 视觉识别注释（图表公式）
```
PDF窗口 → [视觉识别注释] → 等待AI分析图像内容
```

#### 改进注释
```
已有注释窗口 → [改进注释] → 输入改进要求 → 确认
```

### 💬 专家LLM问答

#### 使用MCP专家系统
```
展板右下角 → 专家助手面板 → 输入问题 → [智能分析]
```

#### 常用问题示例
```
"请总结这个PDF的主要内容"
"第5页的公式是什么意思？"
"帮我找到包含'微分'的页面"
"为这章内容创建学习笔记"
```

### 🏠 管家助手

#### 文件管理
```
顶部工具栏 → 智能助手输入框 → 输入管理命令
```

#### 常用命令
```
"帮我整理课程文件"
"清理重复的PDF文件"
"创建新的学习计划"
"查看系统状态"
```

## 🎮 界面操作技巧

### 窗口管理
- **移动窗口**: 拖动标题栏
- **调整大小**: 拖动窗口边缘
- **置顶窗口**: 点击窗口任意位置
- **关闭窗口**: 点击右上角 ❌

### 快捷键
- `←/→`: PDF翻页
- `Ctrl+N`: 新建展板
- `Ctrl+U`: 上传文件
- `F5`: 刷新内容

### 右键菜单
- **PDF页面**: 右键 → 生成注释/视觉识别/改进注释
- **文件**: 右键 → 重命名/删除/移动

## 🔧 常见问题快速解决

### 无法生成注释
```
检查 .env 文件中的API密钥配置：
QWEN_API_KEY=你的密钥
QWEN_VL_API_KEY=你的视觉密钥
```

### PDF上传失败
```
- 检查文件大小（≤50MB）
- 确认文件格式为PDF
- 检查磁盘空间
```

### 界面无法访问
```
- 确认服务已启动（看到"WhatNote 服务已启动"）
- 检查端口8000是否被占用
- 尝试重启服务
```

## 📊 功能状态检查

### 健康检查
```bash
curl http://127.0.0.1:8000/health
```

### API配置检查
```bash
curl http://127.0.0.1:8000/api/check-config
```

### 查看展板列表
```bash
curl http://127.0.0.1:8000/api/boards/list
```

## 🎯 高效使用建议

### 学习流程
```
1. 创建课程文件夹
2. 上传所有相关PDF
3. 逐页生成AI注释
4. 使用专家LLM深入理解
5. 整理和导出笔记
```

### 注释策略
- **纯文字页面** → 自动注释
- **包含图表** → 视觉识别注释
- **复杂概念** → 先生成后改进

### 提问技巧
- 具体明确："请解释第5页的公式"
- 避免模糊："这是什么？"
- 要求详细："请举例说明应用场景"

## 🔍 调试和监控

### 查看LLM日志
```
浏览器访问：http://127.0.0.1:8000/api/llm-logs/recent
```

### 系统统计
```
浏览器访问：http://127.0.0.1:8000/api/mcp/system-stats
```

### 前端调试
```
浏览器访问：http://127.0.0.1:8000/frontend_debug.html
```

---

## 📱 界面导航图

```
主界面布局：
┌─────────────────┬─────────────────────────────────┐
│   课程管理器     │         展板工作区               │
│                │                                │
│ [+ 新建课程]    │  PDF窗口    注释窗口    笔记窗口  │
│ 📚 课程1       │  ┌─────┐   ┌─────┐   ┌─────┐   │
│   📄 文件1     │  │     │   │     │   │     │   │
│   📄 文件2     │  │     │   │     │   │     │   │
│ 📚 课程2       │  └─────┘   └─────┘   └─────┘   │
│ [📤 上传PDF]   │                                │
│                │  ┌─────────────────────────────┐ │
│                │  │      💬 专家助手面板        │ │
│                │  │ 输入: 请解释这个概念         │ │
│                │  │ [智能分析] [普通问答]       │ │
│                │  └─────────────────────────────┘ │
└─────────────────┴─────────────────────────────────┘
```

记住：WhatNote是你的智能学习伙伴，多尝试不同功能，找到最适合你的学习方式！🎓 